spring.application.name=10x-dietMe

# Server configuration
server.port=${SERVER_PORT:8080}

# Actuator
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when-authorized
management.health.defaults.enabled=true

# CORS Configuration
spring.web.cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:3000}
spring.web.cors.allowed-methods=GET,POST,PUT,PATCH,DELETE,OPTIONS
spring.web.cors.allowed-headers=*
spring.web.cors.allow-credentials=true
spring.web.cors.max-age=3600

# Database configuration
spring.datasource.url=${DATABASE_URL:jdbc:postgresql://localhost:5432/dietme}
spring.datasource.username=${DATABASE_USERNAME:dietme}
spring.datasource.password=${DATABASE_PASSWORD:dietme}
spring.datasource.driver-class-name=org.postgresql.Driver

# HikariCP connection pool
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000

# Liquibase
spring.liquibase.change-log=classpath:db/changelog/db.changelog-master.xml
spring.liquibase.enabled=true

# Quartz Scheduler
spring.quartz.job-store-type=jdbc
spring.quartz.jdbc.initialize-schema=always
spring.quartz.properties.org.quartz.jobStore.driverDelegateClass=org.quartz.impl.jdbcjobstore.PostgreSQLDelegate
spring.quartz.properties.org.quartz.jobStore.tablePrefix=QRTZ_
spring.quartz.properties.org.quartz.jobStore.isClustered=false

# AWS Configuration
aws.region=${AWS_REGION:eu-central-1}
aws.accessKeyId=${AWS_ACCESS_KEY_ID:}
aws.secretAccessKey=${AWS_SECRET_ACCESS_KEY:}
aws.endpointOverride=${AWS_ENDPOINT_OVERRIDE:}

# S3 Configuration
aws.s3.bucketName=${S3_BUCKET_NAME:dietme-uploads}

# SES Configuration
aws.ses.fromEmail=${SES_FROM_EMAIL:noreply@dietme.local}
aws.ses.replyToEmail=${SES_REPLY_TO_EMAIL:support@dietme.local}

# File Upload Configuration
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=5MB
spring.servlet.multipart.max-request-size=10MB
spring.servlet.multipart.file-size-threshold=2MB

# Image Upload Settings
app.upload.allowed-types=image/jpeg,image/png,image/webp
app.upload.max-size=5242880
app.upload.thumbnail-size=300
app.upload.medium-size=800
app.upload.full-size=1920
